import{r as m,j as a}from"./read-only-sanity-client.8df010a6.js";import{r}from"./index.ed373d49.js";function p({category:c,slug:l}){const[t,i]=r.useState([]),[u,s]=r.useState(!0);r.useEffect(()=>{(async()=>{try{s(!0);const e=await m.fetch(`*[_type == "event" && type == "${c}"]`);i(e.filter(n=>typeof n.type=="string"&&n.href.includes(l))),s(!1)}catch(e){console.log("Error fetching events from Sanity",e.message||e),i(null),s(!1)}})()},[]);const f=new Date,o=Array.isArray(t)?t.map(e=>({...e,date:new Date(e.date)})).filter(e=>e.date>f).sort((e,n)=>+e.date-+n.date):null,d=Array.isArray(o)&&o.length>0?o[0]:Array.isArray(t)?t[0]:null;function y(e){if(u)return"";if(t===null||!e)return a.jsx("a",{style:{color:"inherit",textDecoration:"underline"},href:"/contact/",children:"Please contact us for upcomping events"});if(e)return a.jsxs(r.Fragment,{children:["We meet ",new Date(e.date).toLocaleDateString("de-DE"),", ",a.jsx("br",{}),new Date(e.from).toLocaleTimeString("en-US",{hour12:!0,hour:"2-digit",minute:"2-digit"}).toLowerCase()]})}return a.jsx(r.Fragment,{children:y(d)})}export{p as CurrentEvent};
