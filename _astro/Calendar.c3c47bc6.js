import{r as Z,j as D}from"./read-only-sanity-client.8df010a6.js";import{r as w}from"./index.ed373d49.js";/* empty css                          */function S(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function m(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function l(e){m(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function ee(e,t){m(2,arguments);var n=l(e),r=S(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function k(e,t){m(2,arguments);var n=l(e),r=S(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var u=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+r+1,0);var o=i.getDate();return u>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),u),n)}var te={};function I(){return te}function x(e,t){var n,r,u,i,o,c,f,d;m(1,arguments);var s=I(),g=S((n=(r=(u=(i=t?.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&u!==void 0?u:s.weekStartsOn)!==null&&r!==void 0?r:(f=s.locale)===null||f===void 0||(d=f.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=l(e),N=v.getDay(),p=(N<g?7:0)+N-g;return v.setDate(v.getDate()-p),v.setHours(0,0,0,0),v}function ne(e){m(1,arguments);var t=l(e);return t.setHours(0,0,0,0),t}function re(e,t){m(2,arguments);var n=S(t),r=n*7;return ee(e,r)}function $(e,t){m(2,arguments);var n=S(t);return k(e,n*12)}function _(e){m(1,arguments);var t=l(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function E(e,t){var n;m(1,arguments);var r=e||{},u=l(r.start),i=l(r.end),o=i.getTime();if(!(u.getTime()<=o))throw new RangeError("Invalid interval");var c=[],f=u;f.setHours(0,0,0,0);var d=Number((n=t?.step)!==null&&n!==void 0?n:1);if(d<1||isNaN(d))throw new RangeError("`options.step` must be a number greater than 1");for(;f.getTime()<=o;)c.push(l(f)),f.setDate(f.getDate()+d),f.setHours(0,0,0,0);return c}function ae(e){m(1,arguments);var t=e||{},n=l(t.start),r=l(t.end),u=r.getTime(),i=[];if(!(n.getTime()<=u))throw new RangeError("Invalid interval");var o=n;for(o.setHours(0,0,0,0),o.setDate(1);o.getTime()<=u;)i.push(l(o)),o.setMonth(o.getMonth()+1);return i}function ie(e,t){m(1,arguments);var n=e||{},r=l(n.start),u=l(n.end),i=u.getTime();if(!(r.getTime()<=i))throw new RangeError("Invalid interval");var o=x(r,t),c=x(u,t);o.setHours(15),c.setHours(15),i=c.getTime();for(var f=[],d=o;d.getTime()<=i;)d.setHours(0),f.push(l(d)),d=re(d,1),d.setHours(15);return f}function F(e){m(1,arguments);var t=l(e);return t.setDate(1),t.setHours(0,0,0,0),t}function se(e,t){var n,r,u,i,o,c,f,d;m(1,arguments);var s=I(),g=S((n=(r=(u=(i=t?.weekStartsOn)!==null&&i!==void 0?i:t==null||(o=t.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&u!==void 0?u:s.weekStartsOn)!==null&&r!==void 0?r:(f=s.locale)===null||f===void 0||(d=f.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var v=l(e),N=v.getDay(),p=(N<g?-7:0)+6-(N-g);return v.setDate(v.getDate()+p),v.setHours(23,59,59,999),v}function oe(e){m(1,arguments);var t=l(e),n=t.getFullYear(),r=t.getMonth(),u=new Date(0);return u.setFullYear(n,r+1,0),u.setHours(0,0,0,0),u.getDate()}function ue(e,t){m(2,arguments);var n=l(e),r=l(t);return n.getTime()>r.getTime()}function le(e,t){m(2,arguments);var n=l(e),r=l(t);return n.getTime()<r.getTime()}function b(e,t){m(2,arguments);var n=l(e),r=l(t);return n.getTime()===r.getTime()}function B(e,t){m(2,arguments);var n=l(e),r=S(t),u=n.getFullYear(),i=n.getDate(),o=new Date(0);o.setFullYear(u,r,15),o.setHours(0,0,0,0);var c=oe(o);return n.setMonth(r,Math.min(i,c)),n}function ce(e,t){if(m(2,arguments),typeof t!="object"||t===null)throw new RangeError("values parameter must be an object");var n=l(e);return isNaN(n.getTime())?new Date(NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=B(n,t.month)),t.date!=null&&n.setDate(S(t.date)),t.hours!=null&&n.setHours(S(t.hours)),t.minutes!=null&&n.setMinutes(S(t.minutes)),t.seconds!=null&&n.setSeconds(S(t.seconds)),t.milliseconds!=null&&n.setMilliseconds(S(t.milliseconds)),n)}function ve(e,t){m(2,arguments);var n=l(e),r=S(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function de(){return ne(Date.now())}function fe(e,t){m(2,arguments);var n=S(t);return k(e,-n)}function ge(e,t){m(2,arguments);var n=S(t);return $(e,-n)}var U;(function(e){e[e.JANUARY=0]="JANUARY",e[e.FEBRUARY=1]="FEBRUARY",e[e.MARCH=2]="MARCH",e[e.APRIL=3]="APRIL",e[e.MAY=4]="MAY",e[e.JUNE=5]="JUNE",e[e.JULY=6]="JULY",e[e.AUGUST=7]="AUGUST",e[e.SEPTEMBER=8]="SEPTEMBER",e[e.OCTOBER=9]="OCTOBER",e[e.NOVEMBER=10]="NOVEMBER",e[e.DECEMBER=11]="DECEMBER"})(U||(U={}));var C;(function(e){e[e.SUNDAY=0]="SUNDAY",e[e.MONDAY=1]="MONDAY",e[e.TUESDAY=2]="TUESDAY",e[e.WEDNESDAY=3]="WEDNESDAY",e[e.THURSDAY=4]="THURSDAY",e[e.FRIDAY=5]="FRIDAY",e[e.SATURDAY=6]="SATURDAY"})(C||(C={}));var me=function(e,t,n){return(b(e,t)||ue(e,t))&&(b(e,n)||le(e,n))},H=function(e){return ce(e,{hours:0,minutes:0,seconds:0,milliseconds:0})},he=function(e){var t=e===void 0?{}:e,n=t.weekStartsOn,r=n===void 0?C.SUNDAY:n,u=t.viewing,i=u===void 0?new Date:u,o=t.selected,c=o===void 0?[]:o,f=t.numberOfMonths,d=f===void 0?1:f,s=w.useState(i),g=s[0],v=s[1],N=w.useCallback(function(){return v(de())},[v]),p=w.useCallback(function(a){return v(function(h){return B(h,a)})},[]),W=w.useCallback(function(){return v(function(a){return fe(a,1)})},[]),P=w.useCallback(function(){return v(function(a){return k(a,1)})},[]),L=w.useCallback(function(a){return v(function(h){return ve(h,a)})},[]),J=w.useCallback(function(){return v(function(a){return ge(a,1)})},[]),V=w.useCallback(function(){return v(function(a){return $(a,1)})},[]),j=w.useState(c.map(H)),A=j[0],T=j[1],G=function(){return T([])},R=w.useCallback(function(a){return A.findIndex(function(h){return b(h,a)})>-1},[A]),M=w.useCallback(function(a,h){T(h?Array.isArray(a)?a:[a]:function(O){return O.concat(Array.isArray(a)?a:[a])})},[]),y=w.useCallback(function(a){return T(function(h){return Array.isArray(a)?h.filter(function(O){return!a.map(function(Y){return Y.getTime()}).includes(O.getTime())}):h.filter(function(O){return!b(O,a)})})},[]),q=w.useCallback(function(a,h){return R(a)?y(a):M(a,h)},[y,R,M]),z=w.useCallback(function(a,h,O){T(O?E({start:a,end:h}):function(Y){return Y.concat(E({start:a,end:h}))})},[]),K=w.useCallback(function(a,h){T(function(O){return O.filter(function(Y){return!E({start:a,end:h}).map(function(X){return X.getTime()}).includes(Y.getTime())})})},[]),Q=w.useMemo(function(){return ae({start:F(g),end:_(k(g,d-1))}).map(function(a){return ie({start:F(a),end:_(a)},{weekStartsOn:r}).map(function(h){return E({start:x(h,{weekStartsOn:r}),end:se(h,{weekStartsOn:r})})})})},[g,r,d]);return{clearTime:H,inRange:me,viewing:g,setViewing:v,viewToday:N,viewMonth:p,viewPreviousMonth:W,viewNextMonth:P,viewYear:L,viewPreviousYear:J,viewNextYear:V,selected:A,setSelected:T,clearSelected:G,isSelected:R,select:M,deselect:y,toggle:q,selectRange:z,deselectRange:K,calendar:Q}};function we(e){return e+(e>0?["th","st","nd","rd"][e>3&&e<21||e%10>3?0:e%10]:"")}function pe(){const[e,t]=w.useState([]),{calendar:n,viewPreviousMonth:r,viewNextMonth:u,viewing:i}=he();w.useEffect(()=>{(async()=>{try{const s=await Z.fetch('*[_type == "event"]');t(s)}catch(s){console.log("Error fetching events from Sanity",s.message||s)}})()},[]);const o=w.useCallback(s=>{const g=e.find(N=>{const p=new Date(N.date);return p.getFullYear()===s.getFullYear()&&p.getMonth()===s.getMonth()&&p.getDate()===s.getDate()}),v=d(s);return g?D.jsxs("div",{className:v+" event",children:[s.getDate(),D.jsx("a",{href:g.href,className:"event-link",children:D.jsx("p",{className:"event",children:g.name})})]},s.toString()):D.jsx("div",{className:v,children:s.getDate()},s.toString())},[e,i]),c=new Date;function f(){return c.getFullYear()===i.getFullYear()&&c.getMonth()===i.getMonth()}function d(s){const g=s.getFullYear()===i.getFullYear()&&s.getMonth()===i.getMonth();return s.getDate()===c.getDate()&&s.getMonth()===c.getMonth()&&s.getFullYear()===c.getFullYear()?"today":g?"same-month":"other-month"}return D.jsx("div",{className:"calendar__container",children:D.jsxs("div",{className:"calendar",children:[D.jsxs("div",{className:"month",children:[D.jsx("i",{onClick:r,className:"icofont-thin-left icofont-2x prev"}),D.jsxs("div",{className:"date",children:[D.jsx("h1",{children:i.toLocaleString("default",{month:"long"})}),f()?D.jsx("p",{children:`${we(c.getDate())} of ${c.toLocaleString("default",{month:"long"})} ${i.getFullYear()}`}):D.jsx("p",{style:{height:"22px"},children:" "})]}),D.jsx("i",{onClick:u,className:"icofont-thin-right icofont-2x next"})]}),D.jsx("div",{className:"weekdays",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(s=>D.jsx("div",{children:s},s))}),D.jsx("div",{className:"days",children:n[0].map(s=>D.jsx(w.Fragment,{children:s.map(g=>o(g))},JSON.stringify(s[0])))})]})})}export{pe as default};
